{"version":3,"names":[],"mappings":"","sources":["blocks/speaker-details/speaker-details.html"],"sourcesContent":["<link rel=\"import\" href=\"../../../bower_components/polymer/polymer.html\">\n\n<link rel=\"import\" href=\"../../../bower_components/neon-animation/neon-animation-runner-behavior.html\">\n<link rel=\"import\" href=\"../../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html\">\n<link rel=\"import\" href=\"../../../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html\">\n<link rel=\"import\" href=\"../../../themes/hoverboard-theme/components/dialog-styles.html\">\n\n<dom-module id=\"speaker-details\">\n    <template>\n        <style include=\"shared-styles\"></style>\n        <style include=\"dialog-styles\"></style>\n        <paper-scroll-header-panel id=\"scrollHeaderPanel\" condenses=\"{{smallScreen}}\" no-reveal=\"{{!smallScreen}}\">\n            <paper-toolbar class=\"tall\">\n                <paper-icon-button class=\"back-button\" dialog-dismiss icon=\"arrow-back\"></paper-icon-button>\n                <div class=\"middle fallback-image-wrapper\" hidden=\"{{smallScreen}}\">\n                    <iron-image class=\"fallback-image\" src=\"/images/logo-white.svg\"\n                                alt=\"WTM Istanbul 2016\"></iron-image>\n                </div>\n                <div id=\"title\" class=\"bottom title\" hidden=\"{{!smallScreen}}\">[[speaker.name]]</div>\n            </paper-toolbar>\n            <div class=\"content\">\n\n                <div class=\"metadata-wrapper\">\n                    <div class=\"main-info\">\n                        <iron-image class=\"photo\" src=\"[[speaker.photoUrl]]\" preload fade sizing=\"cover\" no-reveal\n                                    hidden=\"{{smallScreen}}\"></iron-image>\n                        <div class=\"info\">\n                            <h1 class=\"main-title\" hidden=\"{{smallScreen}}\">[[speaker.name]]</h1>\n                            <span class=\"meta highlight\">[[speaker.company]], [[speaker.country]]</span>\n                            <span class=\"meta\">\n                                <template is=\"dom-repeat\" items=\"[[speaker.badges]]\" as=\"badge\">\n                                    <a class=\"badge\" href=\"[[badge.link]]\" target=\"_blank\">[[badge.description]]</a>\n                                </template>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <marked-element markdown=\"[[speaker.bio]]\">\n                    <div class=\"markdown-html\"></div>\n                </marked-element>\n\n                <div class=\"actions\">\n                    <template is=\"dom-repeat\" items=\"[[speaker.socials]]\" as=\"social\">\n                        <a href=\"[[social.link]]\" target=\"_blank\">\n                            <paper-icon-button class=\"action\" icon$=\"icons:{{social.icon}}\"></paper-icon-button>\n                        </a>\n                    </template>\n                </div>\n\n            </div>\n\n            <template is=\"dom-if\" if=\"{{speaker.sessions.length}}\">\n                <div class=\"sections-wrapper content\">\n                    <h4 class=\"block-title\">Sessions</h4>\n                    <div class=\"sections\">\n                        <template is=\"dom-repeat\" items=\"[[speaker.sessions]]\" as=\"session\">\n                            <div class=\"section\">\n                                <div class=\"section-info\">\n                                    <h3 class=\"section-title\">[[session.title]]</h3>\n                                    <div class=\"badges\">\n                                        <template is=\"dom-repeat\" items=\"[[session.tags]]\" as=\"tag\">\n                                            <span class=\"badge\" target=\"_blank\">[[tag]]</span>\n                                        </template>\n                                    </div>\n                                    <truncate-marked-text text=\"[[session.description]]\" characters=\"220\"\n                                                          break-last-word></truncate-marked-text>\n                                    <a class=\"read-more\" href=\"/schedule/[[session.id]]\" data-route=\"schedule\" dialog-dismiss>Read more</a>\n\n                                </div>\n                            </div>\n                        </template>\n                    </div>\n                </div>\n            </template>\n        </paper-scroll-header-panel>\n\n        <iron-media-query query=\"(max-width: 960px)\" query-matches=\"{{smallScreen}}\"></iron-media-query>\n    </template>\n    <script>\n        (function () {\n            'use strict';\n\n            Polymer({\n\n                is: 'speaker-details',\n\n                behaviors: [\n                    Polymer.PaperDialogBehavior,\n                    Polymer.NeonAnimationRunnerBehavior\n                ],\n\n                properties: {\n                    speaker: {\n                        type: Object,\n                        observer: '_speakerChanged'\n                    }\n                },\n\n                listeners: {\n                    'neon-animation-finish': '_onNeonAnimationFinish'\n                },\n\n                ready: function () {\n                    var title = this.$.title;\n                    addEventListener('paper-header-transform', function (e) {\n                        var d = e.detail;\n                        var m = d.height - d.condensedHeight;\n                        var transform = 40 * d.y / m;\n                        Polymer.Base.transform('translate3d(' + transform + 'px,0,0)', title);\n                    });\n                },\n\n                _speakerChanged: function () {\n                    page.redirect('/' + app.route + '/' + this.speaker.id);\n                    this.customStyle['--paper-scroll-header-panel-color'] = 'var(--' + app.generateClass(this.speaker.tags[0]) + ')';\n                    if (window.innerWidth < 961) {\n                        this.$.scrollHeaderPanel.$.headerBg.style.background = 'linear-gradient(to top, rgba(0, 0, 0, 0.4) -10%, rgba(0, 0, 0, 0.1) 50%), url(' + this.speaker.photoUrl + ') 0 / cover no-repeat';\n                    }\n                    this.updateStyles();\n                },\n\n                _renderOpened: function () {\n                    if (this.withBackdrop && window.innerWidth > 960) {\n                        this.backdropElement.open();\n                    }\n                    this.playAnimation('entry');\n                    this.async(function () {\n                        this.$.scrollHeaderPanel.scrollToTop(true);\n                        this.$.scrollHeaderPanel.notifyResize();\n                    });\n                },\n\n                _renderClosed: function () {\n                    page.show('/' + app.route, null, false);\n                    this.backdropElement.close();\n                    this.playAnimation('exit');\n                },\n\n                _onNeonAnimationFinish: function () {\n                    if (this.opened) {\n                        this._finishRenderOpened();\n                    } else {\n                        this._finishRenderClosed();\n                    }\n                }\n            });\n        })();\n    </script>\n</dom-module>\n"],"file":"blocks/speaker-details/speaker-details.html","sourceRoot":"/source/"}