{"version":3,"sources":["scripts/routing.js"],"names":[],"mappings":"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","file":"scripts/routing.js","sourcesContent":["/*\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* global page */\n\n// We use Page.js for routing. This is a Micro\n// client-side router inspired by the Express router\n// More info: https://visionmedia.github.io/page.js/\n\n// Sets app default base URL\nlet baseUrl = '/';\n\nif (window.location.port === '') {  // if production\n  // Uncomment baseURL below and\n  // set baseURL to '/your-pathname/' if running from folder in production\n  // baseUrl = '/polymer-starter-kit-plus/';\n\n  // Removes end / from baseUrl which page.base requires for production\n  page.base(baseUrl.replace(/\\/$/, ''));\n}\n\nlet app = document.getElementById('app');\n\nwindow.addEventListener('upgraded', () => {\n  app.baseUrl = baseUrl;\n});\n\n// Utility function to listen to an event on a node once.\nfunction once(node, event, fn, args) {\n  var self = this;\n  var listener = function() {\n    fn.apply(self, args);\n    node.removeEventListener(event, listener, false);\n  };\n  node.addEventListener(event, listener, false);\n}\n\n// Middleware\nfunction scrollToTop(ctx, next) {\n  function setData() {\n    app.scrollPageToTop();\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n  next();\n}\n\nfunction closeDrawer(ctx, next) {\n  function setData() {\n    app.closeDrawer();\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n  next();\n}\n\nfunction setFocus(selected){\n  document.querySelector('section[data-route=\"' + selected + '\"]').focus();\n}\n\n// Routes\npage('*', scrollToTop, closeDrawer, (ctx, next) => {\n  app.fire('iron-signal', {name: 'track-page', data: { path: ctx.path } });\n  next();\n});\n\nfunction setHomePage() {\n  function setData() {\n    app.route = 'home';\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n}\n\npage('/', () => {\n  setHomePage();\n});\n\npage(baseUrl, () => {\n  setHomePage();\n});\n\npage('/blog', () => {\n  function setData() {\n    app.route = 'blog';\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage('/blog/:id', ctx => {\n  function setData() {\n    app.route = 'post';\n    app.params = ctx.params;\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage('/speakers', () => {\n  function setData() {\n    app.route = 'speakers';\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage('/speakers/:id', ctx => {\n  function setData() {\n    app.route = 'speakers';\n    app.params = ctx.params;\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage('/schedule', () => {\n  function setData() {\n    app.route = 'speakers';\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage('/schedule/:id', ctx => {\n  function setData() {\n    app.route = 'speakers';\n    app.params = ctx.params;\n    setFocus(app.route);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\n// 404\npage('*', ctx => {\n  function setData() {\n    let url = ctx.path.substr(1);\n    app.$.confirmToast.text = `Can't find: ${url}. Redirected you to Home Page`;\n    app.$.confirmToast.show();\n    page.redirect(baseUrl);\n  }\n\n  // Check if element prototype has not been upgraded yet\n  if (!app.upgraded) {\n    once(app, 'upgraded', setData);\n  } else {\n    setData();\n  }\n});\n\npage({\n  // add #! before urls\n  // https://developers.google.com/webmasters/ajax-crawling/docs/learn-more\n  // Disable for Firebase or GAE\n  hashbang: false\n});\n"],"sourceRoot":"/source/"}